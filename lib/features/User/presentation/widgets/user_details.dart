import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import '../../../../core/utils/Widget/image_view.dart';import '../../../Calendar/presentation/manager/calendar_cubit.dart';import '../../../../core/utils/resource/colors.dart';import '../../../../core/utils/resource/styles.dart';import '../../data/model/user_account_model.dart';import '../manager/user_cubit.dart';class UserDetails extends StatefulWidget {  const UserDetails({super.key});  @override  State<UserDetails> createState() => _UserDetailsState();}class _UserDetailsState extends State<UserDetails> {  UserAccountModel? user;  @override  void initState() {    user = context.read<UserCubit>().initUserScreen();    super.initState();  }  @override  Widget build(BuildContext context) {    return BlocBuilder<UserCubit, UserState>(      builder: (context, state) {        return Column(          children: [            InkWell(                onTap: () {                  Navigator.of(context).push(MaterialPageRoute(                    builder: (context) => ImageView(                      photo: user!.image,                    ),                  ));                },                child: CircleAvatar(                  maxRadius: MediaQuery.sizeOf(context).width * 0.11,                  backgroundColor: Colors.red,                  backgroundImage: state is ImagePickedSuccess                      ? FileImage(state.image)                      : user != null                          ? NetworkImage(user!.image)                          : null,                  child: state is ImagePickedSuccess || (user != null)                      ? null                      : Icon(Icons.person,                          size: MediaQuery.sizeOf(context).width * 0.11),                )),            SizedBox(              height: MediaQuery.sizeOf(context).height * .014,            ),            Text(              state is UserUpdated ? state.user.name : user!.name,              textAlign: TextAlign.center,              style: Styles.text20AppBAr(),            ),            SizedBox(              height: MediaQuery.sizeOf(context).height * .02,            ),            Row(              mainAxisAlignment: MainAxisAlignment.spaceAround,              children: [                Container(                  decoration: BoxDecoration(                    color: AppColors.secondBackGroundColor,                    borderRadius: BorderRadius.circular(7),                  ),                  width: MediaQuery.sizeOf(context).width * .4,                  height: MediaQuery.sizeOf(context).height * .09,                  child: Center(                    child: Text(                      "${context.watch<CalendarCubit>().taskModel.length} Task left",                      maxLines: 1,                      style: Styles.text16(),                    ),                  ),                ),                Container(                  decoration: BoxDecoration(                    color: AppColors.secondBackGroundColor,                    borderRadius: BorderRadius.circular(7),                  ),                  width: MediaQuery.sizeOf(context).width * .4,                  height: MediaQuery.sizeOf(context).height * .09,                  child: Center(                    child: Text(                      "${context.watch<CalendarCubit>().doneTask} Task done",                      maxLines: 1,                      style: Styles.text16(),                    ),                  ),                ),              ],            ),            const SizedBox(height: 32),          ],        );      },    );  }}