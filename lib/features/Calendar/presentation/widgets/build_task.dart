import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:intl/intl.dart';import '../../../task/presentation/pages/task_screen.dart';import '../../data/models/task_model.dart';import '../../../../core/utils/resource/icons.dart';import '../manager/calendar_cubit.dart';import '../../../../core/utils/resource/colors.dart';import '../../../../core/utils/resource/styles.dart';class CardItemTask extends StatelessWidget {  final TaskModel state;  const CardItemTask({    super.key,    required this.state,  });  @override  Widget build(BuildContext context) {    return InkWell(        onTap: () {          Navigator.of(context).push(MaterialPageRoute(            builder: (context) => TaskScreen(              model: state,            ),          ));        },        child: Card(          margin: const EdgeInsets.only(left: 24, right: 24, top: 17),          shape: const ContinuousRectangleBorder(),          color: AppColors.secondBackGroundColor,          child: ListTile(            leading: IconButton(                onPressed: () {                  state.isCompleted = !state.isCompleted;                  context.read<CalendarCubit>().filter();                  context.read<CalendarCubit>().update(state);                },                icon: !state.isCompleted                    ? AppIcons.circle                    : AppIcons.checkCircle),            title: Text(state.title, maxLines: 1, style: Styles.text16()),            contentPadding: EdgeInsets.zero,            subtitle: Row(              crossAxisAlignment: CrossAxisAlignment.start,              mainAxisAlignment: MainAxisAlignment.spaceBetween,              children: [                Expanded(                    child: Text(                  "Today At ${DateFormat("E d").format(state.dateTime)}",                  maxLines: 1,                  style:                      Styles.text14().copyWith(color: AppColors.gray1TextColor),                )),                Row(                  crossAxisAlignment: CrossAxisAlignment.end,                  children: [                    Container(                      padding: const EdgeInsets.symmetric(horizontal: 8),                      color: state.type.backGroundColor,                      child: Row(                        children: [                          Padding(                            padding: const EdgeInsets.all(3.0),                            child: Icon(                              IconData(state.type.icon,                                  fontFamily: "MaterialIcons"),                              color: state.type.colorIcon,                            ),                          ),                          Text(                            state.type.name,                            style: Styles.text12(),                          )                        ],                      ),                    ),                    const SizedBox(                      width: 12,                    ),                    Container(                      padding: const EdgeInsets.symmetric(                          horizontal: 8, vertical: 3),                      decoration: BoxDecoration(                        color: Colors.transparent,                        border:                            Border.all(width: 1, color: AppColors.primaryColor),                      ),                      child: Row(                        children: [                          Padding(                            padding:                                const EdgeInsets.symmetric(horizontal: 3.0),                            child:                                Icon(state.priority.flag, color: Colors.white),                          ),                          Text(                            state.priority.number.toString(),                            style: Styles.text12(),                          )                        ],                      ),                    ),                  ],                )              ],            ),          ),        ));  }}