import 'package:bloc/bloc.dart';import '../../model/time_picker_model.dart';class TimePickerCubit extends Cubit<TimePickerState> {  TimePickerCubit(DateTime? dateTime)      : super(    TimePickerState(      hour: _initializeHour(dateTime),      minute: dateTime?.minute ?? 0,      timeFormat: (dateTime?.hour ?? 0) >= 12 ? "PM" : "AM",    ),  );  static int _initializeHour(DateTime? dateTime) {    if (dateTime == null) {      return 1; // Default to 1 if no dateTime is provided    }    int hour = dateTime.hour;    if (hour == 0 || hour == 12) {      return 12; // Midnight or noon should be 12    }    return hour > 12 ? hour - 12 : hour; // Convert to 12-hour format  }  void setHour(int hour) {    emit(state.copyWith(hour: hour));  }  void setMinute(int minute) {    emit(state.copyWith(minute: minute));  }  void setTimeFormat(String format) {    emit(state.copyWith(timeFormat: format));  }  List<int> getFinalTime() {    int adjustedHour = state.hour;    if (state.timeFormat == "AM" && adjustedHour == 12) {      adjustedHour = 0;    } else if (state.timeFormat == "PM" && adjustedHour != 12) {      adjustedHour += 12;    }    return [adjustedHour, state.minute];  }}