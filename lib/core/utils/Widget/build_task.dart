import 'package:flutter/material.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:flutter_screenutil/flutter_screenutil.dart';import 'package:intl/intl.dart';import '../../../features/Index/ViewModel/GetTask/get_task_cubit.dart';import '../../../features/task/View/Pages/task_screen.dart';import '../../model/task_model.dart';import '../resource/icons.dart';import '../resource/colors.dart';import '../resource/styles.dart';class TaskBuilder extends StatelessWidget {  final TaskModel state;  const TaskBuilder({    super.key,    required this.state,  });  @override  Widget build(BuildContext context) {    return Card(      margin: const EdgeInsets.only(left: 25, right: 25, top: 17).r,      shape: const ContinuousRectangleBorder(),      color: AppColors.secondBackGroundColor,      child: InkWell(        onTap: () {          Navigator.of(context, rootNavigator: true).push(            MaterialPageRoute(              builder: (context) => TaskScreen(                id: state.id,              ),            ),          );        },        child: ListTile(          horizontalTitleGap: 3,          leading: BlocBuilder<GetTaskCubit, GetTaskState>(            builder: (context, _) {              return IconButton(              onPressed: () {                state.isCompleted = !state.isCompleted;                context.read<GetTaskCubit>().update(state);                context.read<GetTaskCubit>().getAllTasks();              },              icon: !state.isCompleted                  ? AppIcons.circle                  : AppIcons.checkCircle);            },          ),          title:Text(state.title, maxLines: 1, style: Styles.text16()),          contentPadding: EdgeInsets.zero,          subtitle: Row(              crossAxisAlignment: CrossAxisAlignment.center,              mainAxisAlignment: MainAxisAlignment.spaceBetween,              children: [                Text(                  "Today At ${DateFormat.jm().format(state.dateTime)}",                  maxLines: 1,                  style:                      Styles.text14().copyWith(color: AppColors.gray1TextColor),                ),                Padding(                  padding: const EdgeInsets.only(right: 10).r,                  child: Row(                    children: [                      Container(                        padding: const EdgeInsets.symmetric(horizontal: 8).r,                        decoration: BoxDecoration(                          borderRadius: BorderRadius.circular(4).r,                          color: state.type.backGroundColor,                        ),                        child: Row(                          children: [                            Padding(                              padding: const EdgeInsets.symmetric(                                vertical: 8,                                horizontal: 4,                              ),                              child: Icon(                                // CategoryHelper.getIconByName(state.type.name),                                state.type.iconData,                                color: state.type.colorIcon,                                size: 14.w,                              ),                            ),                            Text(                              state.type.name,                              style: Styles.text12(),                            )                          ],                        ),                      ),                      12.horizontalSpace,                      Container(                        padding: const EdgeInsets.symmetric(                          vertical: 4,                          horizontal: 8,                        ).r,                        decoration: BoxDecoration(                          color: Colors.transparent,                          borderRadius: BorderRadius.circular(4).r,                          border:                              Border.all(width: 1, color: AppColors.primaryColor),                        ),                        child: Row(                          children: [                            Icon(                              state.priority.flag,                              color: AppColors.iconColor,                              size: 14.w,                            ),                            5.horizontalSpace,                            Text(                              state.priority.number.toString(),                              style: Styles.text12(),                            )                          ],                        ),                      ),                    ],                  ),                )              ],            ),        ),      ),    );  }}